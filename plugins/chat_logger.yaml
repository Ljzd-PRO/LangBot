apiVersion: v1
kind: Plugin
metadata:
  name: chat-logger
  label:
    en_US: Chat Logger
    zh_Hans: 聊天记录器
  description:
    en_US: A comprehensive chat logging plugin that records group chat messages and bot replies to database
    zh_Hans: 一个全面的聊天记录插件，将群聊消息和机器人回复记录到数据库中
  version: "1.0.0"
  author: "LangBot"
  repository: "https://github.com/Ljzd-PRO/LangBot"
execution:
  python:
    path: ./chat_logger.py
    attr: ChatLoggerPlugin
spec:
  config:
    - name: database_url
      type: string
      description:
        en_US: Database connection URL (SQLite, PostgreSQL, MySQL, etc.)
        zh_Hans: 数据库连接URL（SQLite、PostgreSQL、MySQL等）
      default: "sqlite+aiosqlite:///./chat_logs.db"
    - name: database_name
      type: string
      description:
        en_US: Database name for identification
        zh_Hans: 用于标识的数据库名称
      default: "langbot_chat"
    - name: include_bot_messages
      type: boolean
      description:
        en_US: Whether to record bot's own messages
        zh_Hans: 是否记录机器人自己的消息
      default: true
    - name: group_whitelist
      type: array
      description:
        en_US: List of group IDs to log (empty means log all groups)
        zh_Hans: 要记录的群组ID列表（空表示记录所有群组）
      default: []
      items:
        type: string
    - name: group_blacklist
      type: array
      description:
        en_US: List of group IDs to exclude from logging
        zh_Hans: 要排除记录的群组ID列表
      default: []
      items:
        type: string